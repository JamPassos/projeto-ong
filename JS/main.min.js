document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("theme-toggle"),t=document.documentElement;function a(t){e&&("dark"===t?(e.setAttribute("aria-label","Desativar modo escuro"),e.setAttribute("title","Desativar modo escuro")):(e.setAttribute("aria-label","Ativar modo escuro"),e.setAttribute("title","Ativar modo escuro")))}a(t.classList.contains("dark-mode")?"dark":"light"),e&&e.addEventListener("click",()=>{t.classList.toggle("dark-mode");let e=t.classList.contains("dark-mode")?"dark":"light";localStorage.setItem("theme",e),a(e)});let s=document.getElementById("modal-alerta"),i=document.getElementById("modal-titulo"),l=document.getElementById("modal-mensagem"),o=document.getElementById("modal-fechar");function n(e,t="aviso"){s&&l&&i&&(l.textContent=e,s.classList.remove("modal-sucesso"),"sucesso"===t?(i.textContent="Sucesso!",s.classList.add("modal-sucesso")):i.textContent="Aviso",s.classList.add("ativo"),s.setAttribute("aria-hidden","false"))}function r(){s&&(s.classList.remove("ativo"),s.setAttribute("aria-hidden","true"))}o&&o.addEventListener("click",r),s&&s.addEventListener("click",e=>{e.target===s&&r()});let d=document.querySelector('form[action="#"]');if(!d)return;d.setAttribute("novalidate",!0);let c=document.getElementById("cpf"),m=document.getElementById("telefone"),u=document.getElementById("cep");c&&c.addEventListener("input",e=>{let t=e.target.value.replace(/\D/g,"");t=(t=(t=t.replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2"),e.target.value=t}),m&&m.addEventListener("input",e=>{let t=e.target.value.replace(/\D/g,"");t=(t=t.replace(/^(\d{2})(\d)/,"($1) $2")).replace(/(\d{5})(\d)/,"$1-$2"),e.target.value=t}),u&&u.addEventListener("input",e=>{let t=e.target.value.replace(/\D/g,"");t=t.replace(/(\d{5})(\d)/,"$1-$2"),e.target.value=t});let v=d.querySelectorAll("input[required]");function g(e){let t=e.nextElementSibling,a=function e(t){let a=t.validity;return a.valueMissing?"Este campo \xe9 obrigat\xf3rio.":a.typeMismatch&&"email"===t.type?"Formato de e-mail inv\xe1lido. Ex: seuemail@exemplo.com":a.patternMismatch?t.title||"Formato inv\xe1lido.":a.tooShort?`Deve ter no m\xednimo ${t.minLength} caracteres.`:null}(e);return a?(t.textContent=a,e.classList.add("invalido"),e.classList.remove("valido"),!1):(t.textContent="",e.classList.add("valido"),e.classList.remove("invalido"),!0)}v.forEach(e=>{let t=document.createElement("span");t.className="error-message",e.parentNode.insertBefore(t,e.nextSibling)}),d.addEventListener("submit",e=>{e.preventDefault();let t=!0;v.forEach(e=>{g(e)||(t=!1)}),t?(n("Dados enviados com sucesso! Entraremos em contato em breve.","sucesso"),d.reset(),v.forEach(e=>{e.classList.remove("valido")})):n("Por favor, corrija os campos destacados antes de enviar.","aviso")}),v.forEach(e=>{e.addEventListener("blur",()=>{g(e)}),e.addEventListener("input",()=>{(function e(t){let a=t.nextElementSibling;a.textContent="",t.classList.remove("invalido")})(e)})})});